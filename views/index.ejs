<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book My Ambulance (BMA)</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-50">

    <!-- Navbar -->
    <nav class="bg-white shadow-lg relative">
        <div class="max-w-8xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <!-- Logo -->
                <div class="flex items-center">
                    <img src="/images/bma-logo.webp" alt="BMA Logo" class="h-10 w-10 mr-2">
                    <a href="/" class="text-2xl font-bold text-gray-800">Book My Ambulance</a>
                </div>
                <!-- Navigation Links -->
                <div class="hidden sm:flex space-x-4">
                    <a href="/" class="hover:text-blue-500">Home</a>
                    <a href="/about" class="hover:text-blue-500">About Us</a>
                    <a href="/safety" class="hover:text-blue-500">Safety</a>
                    <a href="/user/dashboard" class="hover:text-blue-500">Dashboard</a>
                    <% if (user) { %>
                        <a href="/logout"
                            class="bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600">Logout</a>
                        <% } else { %>
                            <button id="login-btn"
                                class="bg-blue-500 text-white px-4 py-2 rounded-full hover:bg-blue-600">
                                Login / Signup
                            </button>
                            <% } %>
                </div>
                <!-- Mobile Menu Button -->
                <div class="sm:hidden flex items-center">
                    <button id="menu-toggle" class="text-gray-800 text-2xl focus:outline-none">☰</button>
                    <!-- Mobile Menu -->
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="hidden sm:hidden flex flex-col items-center bg-white py-4">
            <a href="/" class="block py-2 hover:text-blue-500">Home</a>
            <a href="/about" class="block py-2 hover:text-blue-500">About Us</a>
            <a href="/safety" class="block py-2 hover:text-blue-500">Safety</a>
            <a href="/user/dashboard" class="block py-2 hover:text-blue-500">Dashboard</a>
            <% if (user) { %>
                <a href="/logout" class="bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600">Logout</a>
                <% } else { %>
                    <button id="mobile-login-btn"
                        class="bg-blue-500 text-white px-4 py-2 rounded-full hover:bg-blue-600">
                        Login / Signup
                    </button>
                    <% } %>
        </div>
    </nav>

    <!-- Sliding Login Menu -->
    <div id="login-menu"
        class="fixed inset-y-0 right-0 w-full sm:w-80 bg-white shadow-lg transform translate-x-full transition-transform duration-300 ease-in-out p-6 z-50 sm:rounded-l-lg">
        <button id="close-menu" class="absolute top-4 right-4 text-gray-600 text-2xl">✖</button>
        <h2 class="text-center text-2xl font-semibold mb-4">Select Portal</h2>
        <div class="flex flex-col space-y-4">
            <a href="/user-login" class="portal-btn bg-blue-500 text-white py-3 px-4 rounded text-center">User
                Portal</a>
            <a href="/driver-login" class="portal-btn bg-green-500 text-white py-3 px-4 rounded text-center">Driver
                Portal</a>
            <a href="/doctor-login" class="portal-btn bg-purple-500 text-white py-3 px-4 rounded text-center">Doctor
                Portal</a>
        </div>
    </div>

    <!-- Overlay (for closing menu when clicking outside) -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden"></div>


    <!-- Hero Section -->
    <section id="background-slideshow"
        class="bg-blue-600 text-white py-40 md:py-60 text-center relative overflow-hidden">
        <div class="container mx-auto px-4 relative z-10">
            <h2 class="text-2xl md:text-4xl font-bold mb-4">Book Ambulance Instantly Based on Doctor's Department</h2>
            <p class="mb-8 text-sm md:text-base">Select a department, and we will connect you with the nearest available
                ambulance in minutes.</p>
            <a href="<%= user ? '/department' : '/user-login' %>"
                class="bg-white text-blue-600 px-6 py-3 rounded-full hover:bg-gray-200">
                Book Now
            </a>

        </div>
        <div class="absolute inset-0 bg-black opacity-50 z-0"></div>
    </section>

    <!-- Safety Section -->
    <form method="post" action="/safety">
        <section class="py-16 px-4 md:px-8 bg-gray-100">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-8">Your Safety is Our Priority</h2>
            <p class="text-center text-gray-700 max-w-2xl mx-auto">We ensure the highest standards of safety and hygiene
                for all ambulances. Our team is equipped with PPE kits, disinfectants, and follows COVID-19 protocols
                strictly.</p>
            <div class="flex justify-center mt-8">
                <img src="/images/safety.png" alt="Safety Image" class="w-2/3 md:w-1/3 rounded-lg">
            </div>
            <div class="flex justify-center mt-5">
                <input
                    class="px-3 w-40 py-2 bg-blue-700 text-white shadow-lg rounded-lg hover:shadow-xl transition mt-2"
                    type="submit" value="Learn More">
            </div>
        </section>
    </form>

    <!-- About Us Section -->
    <form method="post" action="/about">
        <section class="py-16 px-4 md:px-8">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-8">About Us</h2>
            <p class="text-center text-gray-700 max-w-2xl mx-auto">BMA is a leading platform to book ambulances quickly
                with access to specialized medical care. We bridge the gap between patients and emergency services for
                timely and efficient medical attention.</p>
            <div class="flex justify-center mt-8">
                <img src="/images/about.jpg" alt="About Us Image" class="w-2/3 md:w-1/3 rounded-lg">
            </div>
            <div class="flex justify-center mt-5">
                <input
                    class="px-3 w-40 py-2 bg-blue-700 text-white shadow-lg rounded-lg hover:shadow-xl transition mt-2"
                    type="submit" value="Know More">
            </div>
        </section>
    </form>

    <!-- Contact Us Section -->
    <section class="py-16 px-4 md:px-8 bg-gray-100">
        <h2 class="text-2xl md:text-3xl font-bold text-center mb-8">Contact Us</h2>
        <p class="text-center text-gray-700 max-w-2xl mx-auto">Need help? Reach out to us via phone or email for any
            inquiries regarding ambulance bookings or support.</p>
        <div class="text-center mt-8">
            <p class="text-gray-700">Phone: +1 234 567 890</p>
            <p class="text-gray-700">Email: support@bookmyambulance.com</p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white py-4">
        <div class="max-w-7xl mx-auto px-4 flex flex-col md:flex-row justify-between text-center md:text-left">
            <p class="text-gray-700">© 2024 Book My Ambulance. All rights reserved.</p>
            <div>
                <a href="/terms" class="text-gray-700 hover:text-blue-600">Terms of Service</a> |
                <a href="/privacy" class="text-gray-700 hover:text-blue-600">Privacy Policy</a>
            </div>
        </div>
    </footer>

    <!-- Emergency Button -->
    <a href="/driver/emergency"
        class="fixed bottom-8 right-8 bg-red-600 text-white px-6 py-3 md:px-12 md:py-3 rounded-full shadow-lg hover:bg-red-700 transition-all duration-300 text-base md:text-lg font-semibold flex items-center justify-center z-50">
        Emergency
    </a>

    <script>

        document.addEventListener("DOMContentLoaded", function () {
            const loginBtns = document.querySelectorAll("#login-btn, #mobile-login-btn"); // Select both buttons
            const loginMenu = document.getElementById("login-menu");
            const closeMenu = document.getElementById("close-menu");
            const overlay = document.getElementById("overlay");

            loginBtns.forEach(btn => {
                btn.addEventListener("click", function () {
                    loginMenu.classList.remove("translate-x-full");
                    overlay.classList.remove("hidden");
                });
            });

            closeMenu.addEventListener("click", function () {
                loginMenu.classList.add("translate-x-full");
                overlay.classList.add("hidden");
            });

            overlay.addEventListener("click", function () {
                loginMenu.classList.add("translate-x-full");
                overlay.classList.add("hidden");
            });
        });



        const images = [
            '/images/bg/bg1.jpg',
            '/images/bg/bg2.jpg',
            '/images/bg/bg3.jpg',
            '/images/bg/bg4.png'
        ];
        let currentImageIndex = 0;

        function changeBackgroundImage() {
            const section = document.getElementById('background-slideshow');
            section.style.backgroundImage = `url(${images[currentImageIndex]})`;
            section.style.backgroundSize = 'cover';
            section.style.backgroundPosition = 'center';

            currentImageIndex = (currentImageIndex + 1) % images.length;
        }

        changeBackgroundImage();
        setInterval(changeBackgroundImage, 2000);

        document.getElementById("menu-toggle").addEventListener("click", function () {
            const menu = document.getElementById("mobile-menu");
            menu.classList.toggle("hidden");
        });


        navigator.geolocation.getCurrentPosition(
            (position) => {
                fetch("/set-location", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        latitude: position.coords.latitude,
                        longitude: position.coords.longitude,
                    }),
                })
                    .then(response => response.text())
                    .then(data => console.log("Location set:", data))
                    .catch(error => console.error("Error setting location:", error));
            },
            (error) => console.error("Geolocation error:", error)
        );


    </script>

</body>

</html>